{% extends 'base.html.twig' %}

{% block title %}HÃ©ros du quotidien
{% endblock %}

{% block body %}
	<div class="container py-5">
		<div class="text-center mb-4">
			<h1 class="display-4 fw-bold">HÃ©ros du quotidien :
				<span class="text-primary">donnez la joie en VR</span>
			</h1>
		</div>

		<div class="text-center my-4">
			<img src="{{ asset('images/donDeCasque.webp') }}" alt="Donateur" class="img-fluid rounded-4 shadow-lg">
		</div>
		<div>
			<div class="text-justify my-5">
				<h2 class="text-center mb-5">Chers amis, membres et bienfaiteurs de lâ€™association GNUT 06</h2>
				<p>
					<strong>Vous avez un casque de rÃ©alitÃ© virtuelle qui prend la poussiÃ¨re ?</strong>
					ğŸ¥½âœ¨
										                    Ne le laissez pas sâ€™ennuyer, offrez-lui une nouvelle vie ! ğŸŒ±
				</p>
				<p>
					<strong>Rejoignez notre mission</strong>
					:
					<span class="text-primary">transformez un casque en un sourire</span>
					ğŸ˜ƒğŸ.
				</p>
				<p>
					<strong>Votre don nâ€™est pas quâ€™un simple geste</strong>
					: câ€™est une clÃ© magique qui ouvre les portes dâ€™un monde oÃ¹ lâ€™impossible devient possible. ğŸ—ï¸ğŸŒ
					<strong>Plongez dans lâ€™action et devenez un hÃ©ros du quotidien</strong>
					<span class="text-primary">en offrant un casque de rÃ©alitÃ© virtuelle</span>. ğŸ¦¸â€â™‚ï¸ğŸ¦¸â€â™€ï¸
				</p>
				<p>
					<strong>Imaginez un instant</strong>
					: une personne en situation de handicap, isolÃ©e et en quÃªte dâ€™Ã©vasion,
					<strong>dÃ©couvre un univers oÃ¹ les limites sâ€™effacent</strong>. ğŸš€ğŸŒŒ
				</p>
				<p>
					<strong>Votre geste gÃ©nÃ©reux</strong>
					ğŸ¤²
					<strong>Chaque don propulse une personne en situation de handicap</strong>
					au cÅ“ur dâ€™expÃ©riences VR stupÃ©fiantes, loin de la routine et de lâ€™isolement. ğŸ’«
				</p>
				<p>
					<strong>Votre ancien casque de rÃ©alitÃ© virtuelle</strong>
					nâ€™est pas quâ€™un objet obsolÃ¨te, câ€™est une fenÃªtre ouverte sur un monde dâ€™aventures et de dÃ©couvertes. ğŸªŸğŸ§­
				</p>
				<p>
					<strong>Imaginez une personne</strong>
					ğŸ‘¤
					<strong>Imaginez la joie dÃ©bordante</strong>
					ğŸ˜
										                    lorsquâ€™elle dÃ©couvre un monde infini, oÃ¹ les frontiÃ¨res nâ€™existent plus et oÃ¹ la peur laisse place Ã  lâ€™Ã©merveillement. ğŸŒˆ
				</p>
				<p>
					<strong>Votre ancien casque nâ€™est pas un simple objet usagÃ©</strong>
					: câ€™est une machine Ã  rÃªves. ğŸ’­âœ¨
				</p>
				<p>
					En le confiant Ã 
					<strong>Gnut 06</strong>, vous lui donnez une seconde vie, vous rÃ©duisez les dÃ©chets Ã©lectroniques â™»ï¸ et vous crÃ©ez des souvenirs magiques. âœ¨
				</p>
				<p>
					<strong>Agissez maintenant</strong>
					ğŸš€
										                    : un geste simple, une inscription rapide et, en quelques clics,
					<strong>vous dÃ©clenchez un tsunami de bonheur</strong>. ğŸŒŠğŸ˜Š
				</p>
				<p class="text-center">Lâ€™Ã©quipe de lâ€™association GNUT 06 ğŸŒŸğŸ¤</p>
			</div>
		</div>
		<div class="row justify-content-center mt-5">
			<div class="col-md-8 col-lg-6">
				<div class="text-center mb-4">
					<button id="btn-physique" class="btn btn-outline-primary me-2">Personne Physique</button>
					<button id="btn-societe" class="btn btn-outline-secondary">SociÃ©tÃ©</button>
				</div>

				{# Formulaire Personne Physique #}
				<div id="form-physique" class="card p-4 shadow-lg rounded-4 border-0" style="display: block;">
					{{ form_start(form_physique, {'attr': {'onsubmit': 'return validateRecaptcha("physique");'}}) }}

					<div id="physique-step-1">
						<h4 class="text-center mb-4 text-primary">Merci de saisir vos informations</h4>

						<div class="mb-3">
							{{ form_widget(form_physique.civilite) }}
						</div>
						<div class="mb-3">
							{{ form_widget(form_physique.nom) }}
						</div>
						<div class="mb-3">
							{{ form_widget(form_physique.prenom) }}
						</div>

						<div class="mb-3">
							{{ form_widget(form_physique.email) }}
							<small class="text-danger">{{ form_errors(form_physique.email) }}</small>
						</div>
						<div class="mb-3">
							{{ form_widget(form_physique.telephone) }}
						</div>

						<div class="d-flex">
							<button type="button" class="btn btn-primary mt-3 ms-auto" onclick="goToStep('physique', 2)">Suivant</button>
						</div>


					</div>

					<div id="physique-step-2" style="display:none;">
						<h4 class="text-center mb-4 text-primary">Votre adresse</h4>

						<div class="mb-3">
							{{ form_widget(form_physique.adresse_1) }}
						</div>
						<div class="mb-3">
							{{ form_widget(form_physique.adresse_2) }}
						</div>
						<div class="mb-3">
							{{ form_widget(form_physique.code_postal) }}
						</div>
						<div class="mb-3">
							{{ form_widget(form_physique.ville) }}
						</div>

						<div class="mb-3">
							{{ form_widget(form_physique.pays) }}
						</div>

						<input type="hidden" id="g-recaptcha-response-physique" name="g-recaptcha-response">

						<div class="d-flex justify-content-between">
							<button type="button" class="btn btn-secondary" onclick="goToStep('physique', 1)">Retour</button>
							<button class="btn btn-primary">Enregistrer</button>
						</div>
					</div>

					{{ form_end(form_physique) }}
				</div>

				{# Formulaire SociÃ©tÃ© #}
				<div id="form-societe" class="card p-4 shadow-lg rounded-4 border-0" style="display: none;">
					{{ form_start(form_societe, {'attr': {'onsubmit': 'return validateRecaptcha("societe");'}}) }}

					<div id="societe-step-1">
						<h4 class="text-center mb-4 text-primary">Informations personnelles</h4>

						<div class="mb-3">
							{{ form_widget(form_societe.civilite) }}
						</div>
						<div class="mb-3">
							{{ form_widget(form_societe.nom) }}
						</div>
						<div class="mb-3">
							{{ form_widget(form_societe.prenom) }}
						</div>

						<div class="mb-3">
							{{ form_widget(form_societe.nom_societe) }}
						</div>
						<div class="mb-3">
							{{ form_widget(form_societe.siren) }}
						</div>
						<div class="mb-3">
							{{ form_widget(form_societe.email) }}
							<small class="text-danger">{{ form_errors(form_societe.email) }}</small>
						</div>
						<div class="mb-3">
							{{ form_widget(form_societe.telephone) }}
						</div>

						<div class="d-flex">
							<button type="button" class="btn btn-primary mt-3 ms-auto" onclick="goToStep('societe', 2)">Suivant</button>
						</div>
					</div>

					<div id="societe-step-2" style="display:none;">
						<h4 class="text-center mb-4 text-primary">Adresse</h4>

						<div class="mb-3">
							{{ form_widget(form_societe.adresse_1) }}
						</div>
						<div class="mb-3">
							{{ form_widget(form_societe.adresse_2) }}
						</div>
						<div class="mb-3">
							{{ form_widget(form_societe.code_postal) }}
						</div>
						<div class="mb-3">
							{{ form_widget(form_societe.ville) }}
						</div>

						<div class="mb-3">
							{{ form_widget(form_societe.pays) }}
						</div>

						<input type="hidden" id="g-recaptcha-response-societe" name="g-recaptcha-response">

						<div class="d-flex justify-content-between">
							<button type="button" class="btn btn-secondary" onclick="goToStep('societe', 1)">Retour</button>
							<button class="btn btn-primary">Enregistrer</button>
						</div>
					</div>

					{{ form_end(form_societe) }}
				</div>
			</div>
		</div>
	</div>

	 <script src="https://www.google.com/recaptcha/api.js?render={{ site_key }}"></script>
	 <script>
						    grecaptcha.ready(function() {
						        grecaptcha.execute('{{ site_key }}', { action: 'submit' }).then(function(token) {
						            document.getElementById('g-recaptcha-response-physique').value = token;
						            document.getElementById('g-recaptcha-response-societe').value = token;
						        });
						    });
						
						    function validateRecaptcha(formType) {
						        let token = document.getElementById('g-recaptcha-response-' + formType).value;
						        if (!token) {
						            alert('Veuillez complÃ©ter la vÃ©rification reCAPTCHA.');
						            return false;
						        }
						        return true;
						    }
						
						    document.getElementById('btn-physique').addEventListener('click', () => {
						        document.getElementById('form-physique').style.display = 'block';
						        document.getElementById('form-societe').style.display = 'none';
						    });
						
						    document.getElementById('btn-societe').addEventListener('click', () => {
						        document.getElementById('form-physique').style.display = 'none';
						        document.getElementById('form-societe').style.display = 'block';
						    });
						
						function goToStep(type, step) {
						    if (step === 2) {
						        const step1 = document.querySelectorAll(`#${type}-step-1 input, #${type}-step-1 select`);
						        let valid = true;
						
						        step1.forEach(field => {
						            if (field.required && !field.value.trim()) {
						                field.classList.add('is-invalid');
						                valid = false;
						            } else {
						                field.classList.remove('is-invalid');
						            }
						        });
						
						        if (!valid) {
						            return;
						        }
						    }
						
						    document.getElementById(`${type}-step-1`).style.display = (step === 1) ? 'block' : 'none';
						    document.getElementById(`${type}-step-2`).style.display = (step === 2) ? 'block' : 'none';
						}
						
						</script>
</div></div>{% endblock %}{% block javascripts %}
<script src="{{ asset('js/scripts.js') }}"></script>
{{ parent() }}
<script src="{{ asset('js/adresse_auto_complete.js') }}"></script>
{% endblock %}
